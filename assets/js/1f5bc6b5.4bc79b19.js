"use strict";(self.webpackChunkdot_net_from_zero_by_soheil_karami=self.webpackChunkdot_net_from_zero_by_soheil_karami||[]).push([[8339],{1683:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"Contents/Session2/Database/GROUP-BY-and-Aggregate-Functions","title":"GROUP BY and Aggregate Functions","description":"Aggregate functions summarize data across multiple rows. You often use them with GROUP BY to group records by a specific column.","source":"@site/docs/Contents/Session2/Database/07-GROUP-BY-and-Aggregate-Functions.md","sourceDirName":"Contents/Session2/Database","slug":"/Contents/Session2/Database/GROUP-BY-and-Aggregate-Functions","permalink":"/DotNet-From-Zero-by-Soheil-Karami/docs/Contents/Session2/Database/GROUP-BY-and-Aggregate-Functions","draft":false,"unlisted":false,"editUrl":"https://github.com/sohilww/DotNet-From-Zero-by-Soheil-Karami/docs/Contents/Session2/Database/07-GROUP-BY-and-Aggregate-Functions.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"GROUP BY and Aggregate Functions"},"sidebar":"tutorialSidebar","previous":{"title":"Understanding JOINs in SQL","permalink":"/DotNet-From-Zero-by-Soheil-Karami/docs/Contents/Session2/Database/Understanding-JOINs-in-SQL"},"next":{"title":"Full Course Outline","permalink":"/DotNet-From-Zero-by-Soheil-Karami/docs/Information/course-outline"}}');var r=s(4848),a=s(8453);const i={title:"GROUP BY and Aggregate Functions"},o=void 0,c={},d=[{value:"\ud83d\udd39Aggregate Functions",id:"aggregate-functions",level:2},{value:"\ud83d\udd38 Example: Count Teachers per Subject",id:"-example-count-teachers-per-subject",level:3},{value:"\ud83d\udd38 Example: Count Teachers with No Assignment",id:"-example-count-teachers-with-no-assignment",level:3},{value:"\ud83d\udd38 Use CASE to Translate WeekDay",id:"-use-case-to-translate-weekday",level:3}];function l(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Aggregate functions summarize data across multiple rows. You often use them with ",(0,r.jsx)(n.code,{children:"GROUP BY"})," to group records by a specific column."]}),"\n",(0,r.jsx)(n.h2,{id:"aggregate-functions",children:"\ud83d\udd39Aggregate Functions"}),"\n",(0,r.jsxs)(n.p,{children:["Aggregate functions summarize data across multiple rows. You often use them with ",(0,r.jsx)(n.code,{children:"GROUP BY"})," to group records by a specific column."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Function"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"COUNT"})}),(0,r.jsx)(n.td,{children:"Counts the number of rows"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SUM"})}),(0,r.jsx)(n.td,{children:"Adds numeric values"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AVG"})}),(0,r.jsx)(n.td,{children:"Calculates average"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MIN"})}),(0,r.jsx)(n.td,{children:"Finds minimum value"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MAX"})}),(0,r.jsx)(n.td,{children:"Finds maximum value"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"-example-count-teachers-per-subject",children:"\ud83d\udd38 Example: Count Teachers per Subject"}),"\n",(0,r.jsx)(n.p,{children:"How many teachers are assigned to each subject?"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT s.Name AS Subject, COUNT(*) AS TeacherCount\r\nFROM dbo.TeachingAssignment ta\r\nJOIN dbo.Subject s ON ta.SubjectId = s.Id\r\nGROUP BY s.Name;\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"This groups teaching assignments by subject and counts how many assignments each has."}),"\n",(0,r.jsx)(n.li,{children:"If a subject is assigned more than once, it appears once in the result with the count."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"-example-count-teachers-with-no-assignment",children:"\ud83d\udd38 Example: Count Teachers with No Assignment"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"LEFT JOIN"})," + ",(0,r.jsx)(n.code,{children:"GROUP BY"})," to find teachers with zero or more assignments."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT t.FirstName + ' ' + t.LastName AS TeacherName, COUNT(ta.Id) AS AssignmentCount\r\nFROM dbo.Teacher t\r\nLEFT JOIN dbo.TeachingAssignment ta ON t.Id = ta.TeacherId\r\nGROUP BY t.FirstName, t.LastName;\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\ud83d\udca1 If a teacher has no assignments, ",(0,r.jsx)(n.code,{children:"COUNT(ta.Id)"})," will be ",(0,r.jsx)(n.code,{children:"0"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"-use-case-to-translate-weekday",children:"\ud83d\udd38 Use CASE to Translate WeekDay"}),"\n",(0,r.jsx)(n.p,{children:"Convert numeric weekdays into names (1 = Monday, etc.):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT\r\n  p.WeekDay,\r\n  CASE p.WeekDay\r\n    WHEN 1 THEN N'Monday'\r\n    WHEN 2 THEN N'Tuesday'\r\n    WHEN 3 THEN N'Wednesday'\r\n    WHEN 4 THEN N'Thursday'\r\n    WHEN 5 THEN N'Friday'\r\n    ELSE N'Other'\r\n  END AS WeekDayName\r\nFROM dbo.Period p;\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udfe8 ",(0,r.jsx)(n.strong,{children:"Questions for students"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Why must every selected column in a ",(0,r.jsx)(n.code,{children:"GROUP BY"})," query be either aggregated or included in the ",(0,r.jsx)(n.code,{children:"GROUP BY"})," clause?"]}),"\n",(0,r.jsxs)(n.li,{children:["What\u2019s the difference between ",(0,r.jsx)(n.code,{children:"COUNT(*)"})," and ",(0,r.jsx)(n.code,{children:"COUNT(column)"}),"?"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udfe6 ",(0,r.jsx)(n.strong,{children:"Practice"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Show teachers who have zero assignments?"}),"\n",(0,r.jsx)(n.li,{children:"Show a list of subjects along with the number of classrooms they are taught in."}),"\n",(0,r.jsx)(n.li,{children:"Find the number of teaching assignments scheduled on each weekday (as a name)."}),"\n",(0,r.jsx)(n.li,{children:"Show each classroom and how many different subjects are taught there."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var t=s(6540);const r={},a=t.createContext(r);function i(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);